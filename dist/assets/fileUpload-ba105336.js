import{_ as r}from"./supabase-b757118e.js";import{l as a}from"./logger-69539a39.js";const t=async(t,e)=>{if(!t||0===t.length)return[];try{const{getSupabase:o}=await r(()=>import("./supabase-9caa56d7.js"),["./supabase-9caa56d7.js","./supabase-b757118e.js","./vendor-d250a0bb.js","./logger-69539a39.js"],import.meta.url),s=o();if(!s)throw new Error("Supabase not configured");const i=t.map(async(r,t)=>{const o=r.name.split(".").pop(),i=`contact-submissions/${`${e}_${t}_${Date.now()}.${o}`}`,{data:n,error:p}=await s.storage.from("contact-files").upload(i,r,{cacheControl:"3600",upsert:!1});if(p)throw a.error(`Error uploading file ${r.name}:`,p),new Error(`Failed to upload ${r.name}: ${p.message}`);return{originalName:r.name,storagePath:n.path,size:r.size,type:r.type}});return await Promise.all(i)}catch(o){throw a.error("File upload error:",o),o}},e=async t=>{try{const{getSupabase:a}=await r(()=>import("./supabase-9caa56d7.js"),["./supabase-9caa56d7.js","./supabase-b757118e.js","./vendor-d250a0bb.js","./logger-69539a39.js"],import.meta.url),e=a();if(!e)return"#";const{data:o}=e.storage.from("contact-files").getPublicUrl(t);return o.publicUrl}catch(e){return a.error("Error getting file URL:",e),"#"}};export{e as g,t as u};
