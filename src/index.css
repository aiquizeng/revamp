@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
  }
  
  body {
    font-family: 'Inter', system-ui, sans-serif;
    overflow-x: hidden;
    position: relative;
  }
  
  /* Prevent initial animation overflow */
  #root {
    overflow-x: hidden;
    position: relative;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center whitespace-nowrap bg-gradient-to-r from-primary-600 to-primary-700 text-white px-4 xs:px-6 sm:px-8 py-2 xs:py-3 sm:py-4 rounded-lg xs:rounded-xl font-semibold hover:from-primary-700 hover:to-primary-800 transition-all duration-300 hover:shadow-2xl hover:shadow-primary-500/25 hover:scale-105 transform text-xs xs:text-sm sm:text-base;
  }
  
  .btn-secondary {
    @apply inline-flex items-center justify-center whitespace-nowrap bg-white/10 backdrop-blur-sm text-white border border-white/20 px-4 xs:px-6 sm:px-8 py-2 xs:py-3 sm:py-4 rounded-lg xs:rounded-xl font-semibold hover:bg-white/20 transition-all duration-300 hover:shadow-2xl hover:scale-105 transform text-xs xs:text-sm sm:text-base;
  }
  
  .btn-ghost {
    @apply inline-flex items-center justify-center whitespace-nowrap bg-transparent text-primary-600 border-2 border-primary-600 px-4 xs:px-6 sm:px-8 py-2 xs:py-3 sm:py-4 rounded-lg xs:rounded-xl font-semibold hover:bg-primary-600 hover:text-white transition-all duration-300 hover:shadow-2xl hover:scale-105 transform text-xs xs:text-sm sm:text-base;
  }
  
  .section-container {
    @apply max-w-7xl mx-auto px-3 xs:px-4 sm:px-6 lg:px-8;
    overflow-x: hidden;
  }
  
  /* Consistent spacing utilities */
  .section-spacing {
    @apply py-4 xs:py-6 sm:py-8 md:py-12 lg:py-16 xl:py-20;
  }
  
  .section-spacing-sm {
    @apply py-3 xs:py-4 sm:py-6 md:py-8 lg:py-12;
  }
  
  .header-spacing {
    @apply mb-3 xs:mb-4 sm:mb-6 md:mb-8 lg:mb-12;
  }
  
  .content-spacing {
    @apply space-y-3 xs:space-y-4 sm:space-y-6 md:space-y-8 lg:space-y-12;
  }
  
  .text-gradient {
    @apply bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent;
  }
  
  .text-gradient-secondary {
    @apply bg-gradient-to-r from-primary-500 to-primary-700 bg-clip-text text-transparent;
  }
  
  .glass-card {
    @apply bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl shadow-2xl;
  }
  
  .modern-card {
    @apply bg-white rounded-2xl shadow-xl hover:shadow-2xl transition-all duration-500 border border-gray-100 hover:border-primary-200 transform hover:-translate-y-2;
  }

  .page-enter {
    opacity: 0;
    transform: translateY(20px);
  }
  
  .page-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 300ms ease-in-out, transform 300ms ease-in-out;
  }
  
  .page-exit {
    opacity: 1;
    transform: translateY(0);
  }
  
  .page-exit-active {
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 300ms ease-in-out, transform 300ms ease-in-out;
  }

  .menu-slide-enter {
    opacity: 0;
    transform: translateY(-10px);
  }
  
  .menu-slide-enter-active {
    opacity: 1;
    transform: translateY(0);
    transition: opacity 200ms ease-out, transform 200ms ease-out;
  }
  
  .menu-slide-exit {
    opacity: 1;
    transform: translateY(0);
  }
  
  .menu-slide-exit-active {
    opacity: 0;
    transform: translateY(-10px);
    transition: opacity 200ms ease-in, transform 200ms ease-in;
  }
}

/* Mobile Viewport Height Fixes */
@media (max-height: 667px) {
  .hero-title {
    font-size: 1.5rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .hero-subtitle {
    font-size: 0.875rem !important;
    margin-bottom: 0.75rem !important;
  }
  
  .hero-cta-button {
    padding: 0.5rem 1rem !important;
    font-size: 0.75rem !important;
  }
  
  .urgency-banner {
    margin-top: 0.5rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .hero-stats-section {
    margin-top: 1rem !important;
  }
}

/* Very Small Viewport Height (iPhone SE, etc.) */
@media (max-height: 568px) {
  .hero-title {
    font-size: 1.25rem !important;
    margin-bottom: 0.25rem !important;
  }
  
  .hero-subtitle {
    font-size: 0.75rem !important;
    margin-bottom: 0.5rem !important;
  }
  
  .hero-cta-button {
    padding: 0.375rem 0.75rem !important;
    font-size: 0.625rem !important;
  }
  
  .urgency-banner {
    margin-top: 0.25rem !important;
    margin-bottom: 0.25rem !important;
    font-size: 0.625rem !important;
    padding: 0.25rem 0.5rem !important;
  }
  
  .hero-stats-section {
    margin-top: 0.75rem !important;
  }
  
  .hero-stats-number {
    font-size: 0.875rem !important;
  }
  
  .hero-stats-text {
    font-size: 0.625rem !important;
  }
}

/* Global overflow fixes - aggressive scrollbar prevention */
html {
  overflow-x: hidden;
  overflow-y: scroll;
  scrollbar-gutter: stable;
}

body {
  overflow-x: hidden;
  overflow-y: visible;
  scroll-behavior: smooth;
}

* {
  box-sizing: border-box;
}

/* Container overflow protection */
.section-container {
  overflow-x: hidden;
  overflow-y: visible;
}

/* Prevent temporary scrollbars during animations */
section {
  overflow: visible !important;
}

.section-spacing {
  overflow: visible !important;
}

/* Force all containers to prevent scrollbars */
.section-container,
.modern-card,
div[class*="transition-"],
div[class*="opacity-"] {
  overflow: visible !important;
}

/* Animation performance improvements */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes float {
  0%, 100% { transform: translateY(0px) rotate(0deg); }
  33% { transform: translateY(-10px) rotate(1deg); }
  66% { transform: translateY(5px) rotate(-1deg); }
}

@keyframes bounce-slow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-5px); }
}

.animate-float {
  animation: float 6s ease-in-out infinite;
}

.animate-bounce-slow {
  animation: bounce-slow 2s ease-in-out infinite;
}

/* Optimized scroll animations - prevent scrollbar flicker */
.transition-all {
  transition: opacity 0.6s ease-out, transform 0.6s ease-out !important;
}

/* Disable vertical transforms that cause scrollbars */
.opacity-0 {
  transform: translateY(0) !important;
}

.translate-y-8,
.translate-y-12 {
  transform: translateY(0) !important;
}

/* Prevent layout shifts during animations */
.modern-card {
  will-change: opacity;
  backface-visibility: hidden;
}

/* Force stable layout during animations */
[class*="translate-y-"] {
  transform: translateY(0) !important;
}

/* Mobile optimizations - disable problematic animations */
@media (max-width: 768px) {
  .animate-float {
    animation-duration: 4s;
  }
  
  /* Disable all Y transforms on mobile to prevent scrollbars */
  [class*="translate-y-"],
  .transition-all {
    transform: translateY(0) !important;
    transition: opacity 0.6s ease-out !important;
  }
}

/* Nuclear option - disable ALL transforms that could cause scrollbars */
* {
  transform: none !important;
}

/* Allow only safe transforms */
.hover\:scale-105:hover,
.hover\:scale-\[1\.02\]:hover,
.group-hover\:scale-110,
.group-hover\:scale-105 {
  transform: scale(1.02) !important;
}

/* Keep essential animations but prevent scrollbars */
.animate-bounce-slow {
  animation: none !important;
}

.animate-float {
  animation: none !important;
}

/* Text overflow fixes */
.break-words {
  word-wrap: break-word;
  word-break: break-word;
  hyphens: auto;
}

/* 320px Mobile View Fixes */
@media (max-width: 320px) {
  /* Prevent horizontal overflow */
  body {
    overflow-x: hidden !important;
  }
  
  * {
    max-width: 100% !important;
    word-wrap: break-word !important;
  }
  
  /* Container fixes */
  .section-container {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }
  
  /* Hero Section Fixes */
  .hero-title {
    font-size: 1.25rem !important;
    line-height: 1.2 !important;
  }
  
  .hero-subtitle {
    font-size: 0.75rem !important;
    line-height: 1.3 !important;
  }
  
  .hero-cta-button {
    font-size: 0.625rem !important;
    padding: 0.375rem 0.5rem !important;
  }
  
  .hero-stats-text {
    font-size: 0.625rem !important;
  }
  
  .hero-stats-number {
    font-size: 0.875rem !important;
  }
  
  /* Urgency Banner */
  .urgency-banner {
    font-size: 0.625rem !important;
    padding: 0.25rem 0.375rem !important;
    max-width: 280px !important;
  }
  
  /* Service Card Fixes */
  .service-card-title {
    font-size: 0.875rem !important;
  }
  
  .service-card-description {
    font-size: 0.75rem !important;
  }
  
  .service-roi-badge {
    font-size: 0.625rem !important;
    padding: 0.125rem 0.375rem !important;
    white-space: normal !important;
    word-wrap: break-word !important;
    hyphens: auto !important;
    max-width: 80px !important;
    line-height: 1.1 !important;
  }
  
  /* CTA Section Fixes */
  .final-cta-title {
    font-size: 1.25rem !important;
    line-height: 1.2 !important;
  }
  
  .final-cta-text {
    font-size: 0.75rem !important;
  }
  
  .final-cta-button {
    font-size: 0.625rem !important;
    padding: 0.375rem 0.5rem !important;
  }
  
  /* Testimonials */
  .testimonial-text {
    font-size: 0.75rem !important;
  }
  
  .testimonial-metric {
    font-size: 0.625rem !important;
  }
  
  /* Additional overflow fixes for small screens */
  .grid {
    grid-template-columns: 1fr !important;
  }
  
  .flex {
    flex-wrap: wrap !important;
  }
  
  .text-xl, .text-2xl, .text-3xl, .text-4xl, .text-5xl {
    font-size: 1rem !important;
    line-height: 1.2 !important;
  }
  
  /* Fix button overflow */
  button, .btn-primary, .btn-secondary {
    min-width: auto !important;
    white-space: normal !important;
    text-align: center !important;
  }
}